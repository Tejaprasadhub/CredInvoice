<p-toast />
    <p-confirmPopup />
<div class="row app-container">
    <div class="col-md-12">
        <div class="row align-items-center">
            <p-table [value]="bidsList"   [paginator]="true" [rows]="10" styleClass="p-datatable-striped" [first]="first"
                [showCurrentPageReport]="true" [tableStyle]="{ 'min-width': '50rem' }"
                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                [rowsPerPageOptions]="[10, 25, 50]">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Financier Name</th>
                        <th>Bid Amount</th>
                        <th>Interest Rate</th>
                        <th>Status</th>
                        <th>Created Date</th>
                        <th>Updated Date</th>
                        <th>Actions</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-invoice let-rowIndex="rowIndex">
                    <tr>                        
                        <td>{{invoice?.financier.first_name + invoice?.financier.last_name}}</td>
                        <td>{{invoice?.bid_amount}}</td>
                         <td>{{invoice?.interest_rate}}%</td>
                         <td> <span class="status {{invoice.status}}">{{invoice?.status}}</span> </td>
                        <td>{{invoice?.created_at | date:'dd-MM-yyyy' }}</td>
                        <td>{{invoice?.updated_at | date:'dd-MM-yyyy'}}</td>
                        <td class="actions">
                            <p-button [disabled]="invoice?.status == 'ACCEPTED'" class="btn-success mr-2" label="{{invoice?.status == 'PENDING' ? 'ACCEPT' : invoice?.status }}"  type="button" (click)="acceptBid(invoice)"></p-button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>
